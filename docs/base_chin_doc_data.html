<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="" />


<title>Base Period Documentation - Data</title>

<script src="site_libs/header-attrs-2.18/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<script src="site_libs/htmlwidgets-1.6.0/htmlwidgets.js"></script>
<link href="site_libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="site_libs/datatables-binding-0.27/datatables.js"></script>
<link href="site_libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="site_libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="site_libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script>
<script src="site_libs/jszip-1.12.1/jszip.min.js"></script>
<script src="site_libs/pdfmake-1.12.1/pdfmake.js"></script>
<script src="site_libs/pdfmake-1.12.1/vfs_fonts.js"></script>
<link href="site_libs/dt-ext-buttons-1.12.1/css/buttons.dataTables.min.css" rel="stylesheet" />
<script src="site_libs/dt-ext-buttons-1.12.1/js/dataTables.buttons.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.12.1/js/buttons.html5.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.12.1/js/buttons.colVis.min.js"></script>
<script src="site_libs/dt-ext-buttons-1.12.1/js/buttons.print.min.js"></script>
<link href="site_libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="site_libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="site_libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="site_libs/selectize-0.12.0/selectize.min.js"></script>
<link href="site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
      .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="rmarkdown.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">FRAM Documentation</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Overview</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Model Detail
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="calcs_data_chin.html">Chinook</a>
    </li>
    <li>
      <a href="calcs_data_coho.html">Coho</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Pre and Post Season FRAM
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="apps_chin.html">Chinook</a>
    </li>
    <li>
      <a href="apps_coho.html">Coho</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Base Period
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-submenu">
      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Chinook</a>
      <ul class="dropdown-menu" role="menu">
        <li>
          <a href="base_chin_doc_intro.html">Introduction</a>
        </li>
        <li>
          <a href="base_chin_doc_calibration.html">Calibration Processes</a>
        </li>
        <li>
          <a href="base_chin_doc_data.html">Model Data</a>
        </li>
        <li>
          <a href="base_chin_doc_qaqc_or.html">QA/QC - Outreach</a>
        </li>
        <li>
          <a href="base_chin_doc_program_desc.html">Program Descriptions</a>
        </li>
        <li>
          <a href="base_chin_doc_update_cycle.html">Update Cycle</a>
        </li>
        <li>
          <a href="base_chin_doc_implications.html">Implications</a>
        </li>
        <li>
          <a href="base_chin_doc_results.html">Results</a>
        </li>
        <li>
          <a href="base_chin_doc_appendix.html">Appendices</a>
        </li>
      </ul>
    </li>
    <li>
      <a href="base_coho.html">Coho</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    User Manual
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="user_prereq.html">Prerequisites</a>
    </li>
    <li>
      <a href="user_basic_forward_run.html">A basic run</a>
    </li>
    <li>
      <a href="user_main_menu_full.html">Main menu options</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    References
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="calcs_glossary.html">Glossary</a>
    </li>
    <li>
      <a href="calcs_appendices.html">Appendices</a>
    </li>
    <li>
      <a href="calcs_citations.html">Supporting Documents</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/FRAMverse/fram_doc">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Base Period Documentation - Data</h1>
<h4 class="author"></h4>

</div>


<div id="model-data" class="section level1">
<h1>1. Model Data</h1>
<div id="cwts" class="section level2">
<h2>1.1 CWTs</h2>
<p>Jon</p>
</div>
<div id="landed-catch" class="section level2">
<h2>1.2 Landed Catch</h2>
<p>Derek</p>
</div>
<div id="cnr" class="section level2">
<h2>1.3 CNR</h2>
<p>Derek</p>
</div>
<div id="escapement" class="section level2">
<h2>1.4 Escapement</h2>
</div>
<div id="growth-functions" class="section level2">
<h2>1.5 Growth Functions</h2>
<div id="background" class="section level3">
<h3>Background</h3>
<p>To model fisheries with minimum size limit regulations, FRAM is
parameterized with growth functions for computing mean length (fork
length, FL, in mm) by age and model time step, as well as supplementary
inputs (coefficients of variation, CVs) for characterizing variability
around these predictions. Objectives of this effort: (1) Estimate
parameters for stock-specific Von Bertalanffy growth functions (VBGFs),
inclusive of an assessment of model fit diagnostics, etc.; and (2)
Estimate stock-specific CVs associated with VBGF mean length-at-age
predictions.</p>
<p>The approach taken differed from what had been done for prior base
period (BP) calibrations in two important ways. Firstly, whereas past
BPs included separate ‘mature’ (~terminal) and ‘mixed-maturity’
(~pre-terminal) VBGFs, a single pre-terminal model was deemed
appropriate for contemporary modeling due to the lack of minimum size
limits in terminal fisheries. Secondly, the estimation approach employed
here addressed the fact that the data used to fit VBGFs (i.e., fishery
recoveries) may be positively biased due to the release of
sublegal/undersized (i.e., smaller than the minimum size limit) fish in
fisheries with minimum size limit regulations.</p>
</div>
<div id="data-description" class="section level3">
<h3>Data Description</h3>
<p>The analysis was based on length observations associated with the
coded-wire tag (CWT) recovery dataset selected for general base period
calibration (i.e., exploitation rate estimation/cohort reconstruction)
purposes. Dataset details included:</p>
<ul>
<li><p>CWT recoveries for brood years 2005-2008 were included for all
stocks. Additional CWT data were added to expand the sample size used to
estimate VBGFs for the Washington Coast regional aggregate, as well as
for the Sacramento/Central Valley stock; broods 2001-2004 were included
for these two groups, as well as additional facilities for Washington
Coast (Grays Harbor, Quinault, and Tsoo-Yess).</p></li>
<li><p>Length data for CWTs processed via the CAS loading and
FRAMBuilder mapping process were included in the analysis; ‘anomalous’
length data, such as from high-seas fisheries and/or research trawls,
were excluded.</p></li>
<li><p>Data collected in freshwater or extreme terminal fisheries,
within which maturation-related changes in morphometry were expected to
be well under way, were excluded from all analyses. Thus, although
&gt;90% of the dataset used here consists of pre-terminal recoveries,
some terminal marine net recoveries were used in the final
analysis.</p></li>
<li><p>For cases in which CWT lengths were not reported in fork length
(FL), conversions were made using the conversion equations of <a
href="#Conrad">Conrad and Gutman</a> (1996; total length) and <a
href="#Pahlke">Pahlke</a> (1989; other length types).</p></li>
<li><p>Data were combined across brood years and grouped into coarser
regional aggregates (Table @ref(tab:fitset)) in order to facilitate VBGF
estimation (described below); aggregates were selected based on those
used during the estimation of growth parameters during the last Chinook
FRAM calibration groupings and based on knowledge of stock
relationships.</p></li>
<li><p>The final analysis used data from 658 CWT codes and N = 27,535
marine recoveries (25,606 pre-terminal; 1,929 marine terminal
net).</p></li>
</ul>
</div>
<div id="estimating-growth-curve-parameters" class="section level3">
<h3>Estimating Growth Curve Parameters</h3>
<p>Growth functions for the Chinook FRAM Base Period project were
estimated in a two-step approach. In the first step, mean (<span
class="math inline"><em>μ</em><sub><em>s</em><em>m</em></sub></span>)
and SD (<span
class="math inline"><em>σ</em><sub><em>s</em><em>m</em></sub></span>)
length-at-age individual stock aggregate–month (sm) combinations were
estimated using the method of Satterthwaite et al. (2012). In brief,
this approach treats individual length observations as samples from a
truncated normal distribution, wherein the truncation point is governed
by the minimum size limit of a fishery; accordingly, it returns mean/SD
maximum likelihood estimates (MLEs) consistent with both the observed
and unobserved portions of the underlying probability distribution.
Thus, the probability of observing an individual length <span
class="math inline"><em>l</em><sub><em>i</em></sub></span> in a fishery
with minimum length limit <span
class="math inline"><em>m</em><em>s</em><em>l</em><sub><em>i</em></sub></span>
is</p>
<p><span class="math display">$$
p(l_{i}│μ_{sm},σ_{sm},msl_i ) =
\frac{Φ(l_{i}|μ_{sm},σ^2_{sm})}{1-Φ(msl_{i}|μ_{sm},σ^2_{sm})}
$$</span></p>
<p>and the probability for observing the length dataset as a whole <span
class="math inline"><em>l̃</em></span> given the collective of size
regulations <span class="math inline">$\widetilde{msl}$</span> is simply
the product of individual likelihood,i.e.,</p>
<p><span class="math display">$$
p(\widetilde{l}│μ_{sm},σ_{sm},\widetilde{msl})=∏_{i=1}^Np(l_i│μ_{sm},σ_{sm},msl_{i})
$$</span></p>
<p>MLEs (<span
class="math inline"><em>μ</em><sub><em>s</em><em>m</em></sub>, <em>σ</em><sub><em>s</em><em>m</em></sub></span>)
were generated using this joint likelihood function and the ‘bbmle’
package in R. For estimation purposes, data were pooled across brood
years without attempts to estimate <span
class="math inline"><em>μ</em><sub><em>s</em><em>m</em></sub></span> and
<span
class="math inline"><em>σ</em><sub><em>s</em><em>m</em></sub></span>
unless there were at least 20 observations per month–stock aggregate
estimation stratum. The <span
class="math inline"><em>μ</em><sub><em>s</em><em>m</em></sub></span> and
<span
class="math inline"><em>σ</em><sub><em>s</em><em>m</em></sub></span>
estimates generated through analysis stage 1 are provided in Appendix A.
With the exception of two suspected outliers, the MLEs were consistent
with the expected growth pattern for Chinook salmon and differed in the
manner expected relative to values estimated in the absence of size
limit considerations.<br />
In the second estimation stage, the parameters of stock-specific von
Bertalanffy growth functions (VBGFs) were estimated that best described
variation in mean length-at-age estimates generated during stage one
(i.e., <span
class="math inline"><em>μ</em><sub><em>s</em><em>m</em></sub></span>).
To do this, an approach was employed wherein VGBF parameters were
modeled to be stock-varying realizations from a common distribution of
VBGF parameters (i.e., <span
class="math inline"><em>L</em><sub>∞</sub></span>, k, <span
class="math inline"><em>t</em><sub>0</sub></span>):</p>
<p><span
class="math display"><em>μ</em><sub><em>s</em><em>m</em></sub> = <em>L</em><sub>∞<sub><em>s</em></sub></sub> * [1−<em>e</em><sup>−<em>k</em><sub><em>s</em></sub>[<em>t</em>−<em>t</em><sub><em>o</em><em>s</em></sub>]</sup>] + <em>ε</em><sub><em>s</em><em>m</em></sub></span></p>
<p>Parameters were estimated using Bayesian methods in WinBUGS with
uniformative priors (see <a href="#WB">Appendix</a> for code, priors,
and initial values). The final values proposed for inclusion in the
Chinook FRAM BP are medians from a 1-in-50 sample of N = 31,000 MCMC
iterations on each of three chains, less an N = 5,000 iteration burn-in
period (i.e., N = 26K total per chain; (Table @ref(tab:VBGF)). The
fitted curves appear to describe well the variability in MLEs (stage 1
results), as well as raw length observations, on both a stock-by-stock
(Figure @ref(fig:ForkLength)) and overall (Figure @ref(fig:ObsPreFL))
basis. Finally, while retaining them for the final estimation process,
the sensitivity of stock-specific VBGF parameters to the
inclusion/exclusion of two outliers (i.e., mean FL during at age 21 and
29 was lower than anticipated for Sacramento/CV stock; (Table
@ref(tab:LAge)) was explored. The omission of these points caused a
small increase in the length-at-age prediction (fitted curve) for young
Sacramento/CV fish and negligibly affected other stocks (Figure
@ref(fig:ForkLength))). In addition to mean length-at-age predictions,
FRAM’s size limit algorithm requires an estimate of distributional
spread around means. Two approaches towards fulfilling this BP
information need were considered: (1) a constant CV approach, or (2) an
age-varying CV approach. An inspection of stage 1 results (i.e., <span
class="math inline"><em>μ</em><sub><em>s</em><em>m</em></sub></span>,<span
class="math inline"><em>σ</em><sub><em>s</em><em>m</em></sub></span>)
revealed that the latter method best captured patterns in the data
(Figure @ref(fig:CVLengthAge)). Thus, ANCOVA was used to assess the
relationship between CV(FL) and age (in months) and then the resulting
model to compute CV(FL) on January 1 for age-2 to age-5 Chinook for use
in modeling was used. ANCOVA results indicated that CV decreased
significantly with increasing age overall (P &lt; 0.001) and offered
strong support for stock-specific intercepts (P &lt; 0.001) but not
slopes (P &gt; 0.05). Thus, CV(FL) was computed, by age, for each
regional aggregate based on an ‘equal slopes’ ANCOVA model (Table
@ref(tab:LAge)).</p>
</div>
<div id="future-work" class="section level3">
<h3>Future work</h3>
<p>While the inputs proposed here for use in Chinook FRAM BP calibration
are robust descriptors of length-at-age patterns for Chinook FRAM’s
model stocks, future work may consider improving on the present analysis
in at least three ways. First, the estimation framework employed here
necessitated that we group related stocks into larger regional
aggregates, as was the case for previous base period calibrations.
Although groupings were made with some consideration of stock
relationships, a more objective approach guided by evidence in the
length-at-age dataset may be preferable. This may, however, require an
approach that avoids the two-stage analysis that introduced data
restrictions here. Secondly, it may be possible to improve model
accuracy, precision, and/or realism through the use of an alternative
growth curve parameterization (e.g., with seasonally varying growth; <a
href="#OF">O’Farrell et al. 2012</a>). Although this may necessitate
minor changes to FRAM algorithms, it may be beneficial, particularly if
future changes alter FRAM’s temporal structure. Lastly, whereas the
curves reported here describe well the length-at-age patterns Chinook
ages relevant to FRAM (i.e., ages 2 to 5), their utility in describing
growth patterns for younger fish remains uncertain. If future FRAM
applications necessitate prediction for younger ages, other length
observations (e.g., length at release, for age-1 research trawl
recoveries, etc.) should either be included in the analysis or used to
corroborate predictions. We suggest that improvements such as these be
given consideration during the phase II of the Chinook FRAM base period
calibration.</p>
<p><br></p>
<pre class="r"><code>growthcurvedata&lt;-as.data.frame(read.csv(&quot;./objects/GrowthCurveData.csv&quot;, header = TRUE))|&gt;
  DT::datatable(filter = &#39;top&#39;,
                extensions = &#39;Buttons&#39;,
                options = list(
                  dom = &#39;Bfrtip&#39;,
                  buttons = c(&#39;copy&#39;, &#39;csv&#39;, &#39;excel&#39;, &#39;pdf&#39;, &#39;print&#39;)))

cat(&quot;&lt;p&gt;&quot;, paste0(&quot;&lt;caption&gt;&quot;,
                      &quot;(#tab:fitset)&quot;,
                      &quot;Summary of data used to fit growth functions for FRAM model stock aggregates. Counts (N) are based on marine fishery recoveries for brood years 2005-2008 for all stocks except for Washington Coast and Sacramento/Central Valley, which include additional recoveries, and non-model stock CWT codes, for brood years 2001-2004.&quot;,
                      &quot;&lt;/caption&gt;&quot;),
                      &quot;&lt;/p&gt;&quot;)</code></pre>
<p>
<caption>
(#tab:fitset)Summary of data used to fit growth functions for FRAM model
stock aggregates. Counts (N) are based on marine fishery recoveries for
brood years 2005-2008 for all stocks except for Washington Coast and
Sacramento/Central Valley, which include additional recoveries, and
non-model stock CWT codes, for brood years 2001-2004.
</caption>
</p>
<pre class="r"><code>growthcurvedata</code></pre>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-9504c0c2b7ad1afe5ed5" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-9504c0c2b7ad1afe5ed5">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"integer\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n    <div style=\"display: none;position: absolute;width: 200px;opacity: 1\">\n      <div data-min=\"1\" data-max=\"234\"><\/div>\n      <span style=\"float: left;\"><\/span>\n      <span style=\"float: right;\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13"],["Columbia River tule stocks","Columbia River bright stocks","Fraser Early","Fraser Late","Lower Columbia R. spring","Lower Georgia Strait","North Puget Sound spring","Oregon Coast","Puget Sound/Hood Canal summer/fall fingerling","Puget Sound/Hood Canal summer/fall yearling","Sacramento/Central Valley","Washington Coast","West Coast Vancouver Island"],["ColRTule","ColRUpriver","FraserEarly","FraserLate","LColRSpr","LGS","NPSSprng","ORCoast","PSHCfng","PSHCyrl","Sacramento","WACoast","WCVI"],[102,36,1,33,5,51,14,3,156,4,234,13,7],["1,037","1,307","225","729","192","315","265","215","3,024","226","3,313","229","79"],["265","2,883","385","321","580","220","229","992","2,196","349","296","2,901","414"],["26","590","7","5","156","9","21","407","74","24","2","2,253","115"],["Lower River hatchery and natural tules, Bonneville Pool tules","All Columbia River bright stocks (URB, upper Col. R summers, Lower R. wild)","Fraser Early all","Fraser Late all","Lower Columbia (Cowlitz, Kalama, Lewis) and Willamette spring stocks","Lower Georgia Strait hatchery/natural fall stocks","Skagit, Nooksack spring stocks","Oregon Coast fall stocks (NOC/MOC)","All Puget Sound/Hood Canal summer/fall fingerling stocks","All Puget Sound/Hood Canal summer/fall yearling stocks","Sacramento/Central Valley stocks","Willapa Bay, Grays Harbor, WA North Coast, etc.","West Coast Vancouver Island hatchery/natural (Robertson stock)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Regional.Aggregate<\/th>\n      <th>Region<\/th>\n      <th>N.Age.2<\/th>\n      <th>N.Age.3<\/th>\n      <th>N.Age.4<\/th>\n      <th>N.Age.5.<\/th>\n      <th>Stocks.included<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"Bfrtip","buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"className":"dt-right","targets":3},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
<pre class="r"><code>VBparams&lt;-as.data.frame(read.csv(&quot;./objects/VBparams.csv&quot;, header = TRUE))|&gt;
  DT::datatable(filter = &#39;top&#39;,
                extensions = &#39;Buttons&#39;,
                options = list(
                  dom = &#39;Bfrtip&#39;,
                  rownames = FALSE,
                  buttons = c(&#39;copy&#39;, &#39;csv&#39;, &#39;excel&#39;, &#39;pdf&#39;, &#39;print&#39;)))

cat(&quot;&lt;p&gt;&quot;, paste0(&quot;&lt;caption&gt;&quot;,
                      &quot;(#tab:VBGF)&quot;,
&quot;Estimates of VBGF parameters by regional stock aggregate.Estimates are median values (95% credible intervals in parentheses) from a 1-in-50 sample of N = 26K MCMC iterations (i.e., 31K less 5K burn-in period) on each of three chains.&quot;,
                      &quot;&lt;/caption&gt;&quot;),
                      &quot;&lt;/p&gt;&quot;)</code></pre>
<p>
<caption>
(#tab:VBGF)Estimates of VBGF parameters by regional stock
aggregate.Estimates are median values (95% credible intervals in
parentheses) from a 1-in-50 sample of N = 26K MCMC iterations (i.e., 31K
less 5K burn-in period) on each of three chains.
</caption>
</p>
<pre class="r"><code>VBparams</code></pre>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-09890126037adc5ca6b8" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-09890126037adc5ca6b8">{"x":{"filter":"top","vertical":false,"filterHTML":"<tr>\n  <td><\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n  <td data-type=\"character\" style=\"vertical-align: top;\">\n    <div class=\"form-group has-feedback\" style=\"margin-bottom: auto;\">\n      <input type=\"search\" placeholder=\"All\" class=\"form-control\" style=\"width: 100%;\"/>\n      <span class=\"glyphicon glyphicon-remove-circle form-control-feedback\"><\/span>\n    <\/div>\n  <\/td>\n<\/tr>","extensions":["Buttons"],"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13"],["ColRTule","ColRUpriver","FraserEarly","FraserLate","LColRSpr","LGS","NPSSprng","ORCoast","PSHCfng","PSHCyrl","Sacramento","WACoast","WCVI"],["988  (854-1228)","950  (856-1166)","982  (842-1223)","1060  (926-1441)","1003  (871-1233)","955  (835-1152)","965  (836-1227)","954  (869-1123)","957  (841-1210)","960  (828-1292)","1134  (995-1483)","992  (907-1171)","964  (842-1166)"],["0.043  (0.024-0.071)","0.037  (0.022-0.053)","0.042  (0.024-0.07)","0.039  (0.02-0.058)","0.045  (0.026-0.077)","0.043  (0.025-0.071)","0.039  (0.022-0.058)","0.041  (0.024-0.061)","0.04  (0.023-0.062)","0.038  (0.021-0.057)","0.039  (0.021-0.056)","0.04  (0.024-0.057)","0.042  (0.024-0.065)"],["5.4  (-2.1-10.3)","7  (-0.7-12.7)","4.9  (-4.3-11.1)","6.3  (-1.3-11.9)","3  (-5.4-9.1)","4.4  (-4.0-9.7)","6.4  (-1.7-12.2)","5.4  (-4.3-11.6)","5.3  (-1.2-9.5)","7.1  (-0.6-13.9)","8.4  (2.8-11.6)","6.3  (-2.7-12)","5.3  (-4.7-11.5)"]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>Region<\/th>\n      <th>l.<\/th>\n      <th>k<\/th>\n      <th>t0<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"dom":"Bfrtip","rownames":false,"buttons":["copy","csv","excel","pdf","print"],"columnDefs":[{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"orderCellsTop":true}},"evals":[],"jsHooks":[]}</script>
<p><br></p>
<div class="figure">
<img src="images/ForkLenght.png" alt="" />
<p class="caption">Fork Length</p>
</div>
<p>Growth functions for regional aggregates of FRAM model stocks. In
each figure, white circles represent individual observations whereas red
triangles are monthly means for (min. month N = 20). Note, monthly means
were estimated via maximum likelihood assuming that tags recovered in
fisheries with minimum size restrictions are a truncated sample (see
‘Stage 1 analysis’ in text for details). The dashed line in each figure
reflects the VBGF parameterization resulting from withholding two
Sacramento outliers.</p>
<p><br></p>
<div class="figure">
<img src="images/ObsPreFL.png" alt="" />
<p class="caption">???</p>
</div>
<p>VBGF-predicted vs. observed fork length by stock-month observation. A
posterior predictive check indicated good correspondence between the
model and data (Bayesian P-value = 0.52).</p>
<p><br></p>
<div class="figure">
<img src="CV%20Lenght%20at%20Age.png" alt="" />
<p class="caption">CV Length at Age</p>
</div>
<p>Coefficient of variation associated with monthly length-at-age
estimates.</p>
</div>
</div>
<div id="size-limits" class="section level2">
<h2>1.6 Size Limits</h2>
<p>Angelika</p>
</div>
<div id="mortality-rates" class="section level2">
<h2>1.7 Mortality Rates</h2>
<p>Angelika</p>
<div id="sublegal" class="section level3">
<h3>Sublegal</h3>
<p>Angelika</p>
</div>
<div id="natural" class="section level3">
<h3>Natural</h3>
<p>Angelika</p>
</div>
<div id="incidental" class="section level3">
<h3>Incidental</h3>
<p>Angelika</p>
</div>
</div>
<div id="model-stock-proportion" class="section level2">
<h2>1.8 Model Stock Proportion</h2>
<p>Angelika</p>
</div>
<div id="target-encounter-rates" class="section level2">
<h2>1.9 Target Encounter Rates</h2>
<p>Derek</p>
</div>
<div id="terminal-fishery-flags" class="section level2">
<h2>1.10 Terminal Fishery Flags</h2>
<p>Angelika</p>
</div>
<div id="time-steps" class="section level2">
<h2>1.11 Time Steps</h2>
<p>Angelika</p>
</div>
</div>
<div id="model-output-data" class="section level1">
<h1>2. Model Output Data</h1>
<p>Angelika</p>
<div id="base-period-exploitation-rates" class="section level2">
<h2>2.1 Base period exploitation rates</h2>
</div>
<div id="sublegal-encounter-rates" class="section level2">
<h2>2.2 Sublegal encounter rates</h2>
</div>
<div id="maturation-rates" class="section level2">
<h2>2.3 Maturation Rates</h2>
</div>
<div id="aeq-mortality-rates" class="section level2">
<h2>2.4 AEQ Mortality Rates</h2>
</div>
<div id="base-period-cohort" class="section level2">
<h2>2.5 Base Period Cohort</h2>
</div>
<div id="fishery-model-stock-proportion" class="section level2">
<h2>2.6 Fishery Model Stock Proportion</h2>
<script>MathJax = { tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] }, svg: { fontCache: 'global' } }; </script>
<script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>
</div>
</div>

<footer>
      <br>
      <p style="color: #326020; font-weight: bold; text-align:right">
        Contributing partners:
        <a href="https://www.pcouncil.org/managed_fishery/salmon/" target="_blank">PFMC</a>
        <a href="https://wdfw.wa.gov/fishing" target="_blank">WDFW</a>  
        <a href="https://nwifc.org/" target="_blank">NWIFC</a>
      </p>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>


</body>
</html>
